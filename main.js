(()=>{"use strict";const t=JSON.parse('[{"id":26,"title":"Побег из Шоушенка","imdb":9.3,"year":1994},{"id":25,"title":"Крёстный отец","imdb":9.2,"year":1972},{"id":27,"title":"Крёстный отец 2","imdb":9,"year":1974},{"id":1047,"title":"Тёмный рыцарь","imdb":9,"year":2008},{"id":223,"title":"Криминальное чтиво","imdb":8.9,"year":1994}]');new class{constructor(t){this.table=t,this.tbody=this.table.querySelector("tbody"),this.getData(),this.arrTr=Array.from(this.tbody.querySelectorAll("tr")),this.previousArrTr,this.sortData()}getData(){t.forEach((t=>{const e=document.createElement("tr");for(const r in t){const s=document.createElement("td");"imdb"===r?(e.dataset[r]=Number(t[r]).toFixed(2),s.innerText=Number(t[r]).toFixed(2)):(e.dataset[r]=t[r],s.innerText=t[r]),e.appendChild(s)}this.tbody.appendChild(e)}))}sortData(){let t=0;setInterval((()=>{switch(t){case 0:this.sortForNumbersIncrease("id");break;case 1:this.sortForNumbersDecrease("id");break;case 2:this.sortForTextIncrease("title");break;case 3:this.sortForTextDecrease("title");break;case 4:this.sortForNumbersIncrease("year");break;case 5:this.sortForNumbersDecrease("year");break;case 6:this.sortForNumbersIncrease("imdb");break;case 7:this.sortForNumbersDecrease("imdb")}t++,t>=8&&(t=0)}),2e3)}sortForNumbersIncrease(t){this.updateData(),this.arrTr.sort(((e,r)=>e.dataset[t]-r.dataset[t])),this.updateDOM()}sortForNumbersDecrease(t){this.updateData(),this.arrTr.sort(((e,r)=>r.dataset[t]-e.dataset[t])),this.updateDOM()}sortForTextDecrease(t){this.updateData(),this.arrTr.sort(((e,r)=>e.dataset[t]<r.dataset[t]?1:-1)),this.updateDOM()}sortForTextIncrease(t){this.updateData(),this.arrTr.sort(((e,r)=>e.dataset[t]>r.dataset[t]?1:-1)),this.updateDOM()}updateData(){this.arrTr=Array.from(this.tbody.querySelectorAll("tr")),this.previousArrTr=this.arrTr.map((t=>t))}updateDOM(){this.arrTr.forEach(((t,e)=>{t!==this.previousArrTr[e]&&(this.previousArrTr[e].outerHTML=t.outerHTML)}))}}(document.querySelector(".sortTable"))})();